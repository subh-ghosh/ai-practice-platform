@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    /* Default (light) mode colors */
    @apply bg-gray-50 text-blue-gray-900;
  }

  html.dark {
    /* Dark mode colors */
    @apply bg-gray-900 text-blue-gray-50;
  }
}

@layer components {

  /* ============================================================
     ðŸ”¹ BASE STRUCTURE + CARD STYLING
  ============================================================ */
  .dark .dashboard-content .mt-card {
    background-color: theme('colors.gray.800') !important;
    border-color: theme('colors.gray.700') !important;
    color: theme('colors.gray.200') !important;
  }

  .dark .dashboard-content .mt-card-header,
  .dark .dashboard-content .mt-card-body,
  .dark .dashboard-content .mt-card-footer {
    color: theme('colors.gray.200');
  }

  /* ============================================================
     ðŸ”¹ TYPOGRAPHY COLOR FIXES
  ============================================================ */
  .dark .dashboard-content [class*="text-blue-gray-900"],
  .dark .dashboard-content [class*="text-gray-900"] {
    color: theme('colors.white');
  }

  .dark .dashboard-content [class*="text-blue-gray-600"] {
    color: theme('colors.gray.300');
  }

  .dark .dashboard-content [class*="text-blue-gray-500"] {
    color: theme('colors.gray.400');
  }

  .dark .dashboard-content [class*="text-blue-gray-400"] {
    color: theme('colors.gray.500');
  }

  /* ============================================================
     ðŸ”¹ HEADER + BORDER FIXES
  ============================================================ */
  .dark .dashboard-content .mt-card-header-gradient.mt-card-header-transparent {
    background-color: transparent !important;
    background-image: none !important;
    border-color: transparent !important;
  }

  .dark .dashboard-content .mt-card-header-gradient.mt-card-header-gray,
  .dark .dashboard-content .mt-card-header[color="transparent"] {
    background-color: theme('colors.gray.800') !important;
    background-image: none !important;
  }

  .dark .dashboard-content [class*="border-blue-gray-50"],
  .dark .dashboard-content [class*="border-blue-gray-100"] {
    border-color: theme('colors.gray.700');
  }

  /* ============================================================
     ðŸ”¹ PROFILE PAGE TABS
  ============================================================ */
  .dark .dashboard-content .mt-tabs-header {
    background-color: theme('colors.gray.700') !important;
  }

  .dark .dashboard-content .mt-tab {
    color: theme('colors.gray.300') !important;
  }

  .dark .dashboard-content .mt-tab-indicator {
    background-color: theme('colors.white') !important;
    color: theme('colors.gray.900') !important;
  }

  .dark .dashboard-content .mt-tab.mt-tab-active {
    color: theme('colors.gray.900') !important;
  }

  /* ============================================================
     ðŸ”¹ INPUTS, TEXTAREA & SELECTS (White text + labels)
  ============================================================ */
  .dark .dashboard-content .mt-input-label,
  .dark .dashboard-content .mt-select-label,
  .dark .dashboard-content .mt-textarea-label {
    color: theme('colors.white') !important;
  }

  .dark .dashboard-content .mt-input,
  .dark .dashboard-content .mt-textarea>textarea,
  .dark .dashboard-content .mt-select>button {
    border-color: theme('colors.gray.600') !important;
    color: theme('colors.white') !important;
  }

  .dark .dashboard-content .mt-input::placeholder,
  .dark .dashboard-content .mt-textarea>textarea::placeholder {
    color: theme('colors.gray.400') !important;
  }

  /* ============================================================
     ðŸ”¹ SEARCH INPUT FIX
  ============================================================ */
  .dark .dashboard-content .mt-input-label-white {
    color: theme('colors.gray.400');
  }

  .dark .dashboard-content .mt-input-white {
    border-color: theme('colors.gray.600');
    color: theme('colors.white');
  }

  .dark .dashboard-content .mt-radio label {
    color: theme('colors.gray.200') !important;
  }

  /* ============================================================
     ðŸ”¹ PROSE (Markdown / Text Blocks)
  ============================================================ */
  .dark .dashboard-content .prose {
    color: theme('colors.gray.200');
  }

  .dark .dashboard-content [class*="bg-blue-gray-50"] {
    background-color: theme('colors.gray.700');
  }

  /* ============================================================
     ðŸ”¹ NOTIFICATION + PIE CHART FIXES
  ============================================================ */
  .dark .dashboard-content .mt-card-body [class*="text-blue-gray"] {
    color: theme('colors.gray.300');
  }

  .dark .dashboard-content .mt-card-body [class*="text-gray"] {
    color: theme('colors.gray.400');
  }

  .dark .dashboard-content .mt-card-body>div[key] {
    background-color: theme('colors.gray.700');
    border-color: theme('colors.gray.600');
  }

  .dark .dashboard-content .apexcharts-legend-text {
    color: theme('colors.gray.200') !important;
  }

  /* ============================================================
     ðŸ”¹ MENU / SELECT / POPOVER / MODAL FIXES
  ============================================================ */
  .dark .mt-popover,
  .dark .mt-menu-list,
  .dark .mt-select-menu {
    background-color: theme('colors.gray.800') !important;
    border-color: theme('colors.gray.700') !important;
    box-shadow:
      0 0 0 1px theme('colors.gray.700') inset,
      0 10px 15px -3px rgb(0 0 0 / 0.5),
      0 4px 6px -4px rgb(0 0 0 / 0.5) !important;
  }

  .dark .mt-select-option,
  .dark .mt-menu-item {
    color: theme('colors.gray.100') !important;
  }

  .dark .mt-select-option:hover,
  .dark .mt-menu-item:hover {
    background-color: theme('colors.gray.700') !important;
  }

  .dark .mt-dialog {
    background-color: theme('colors.gray.800') !important;
  }

  .dark .mt-dialog-header {
    color: theme('colors.white') !important;
  }

  .dark .mt-dialog-body {
    border-color: theme('colors.gray.700') !important;
    color: theme('colors.gray.200') !important;
  }

  .dark .mt-dialog-footer {
    border-color: theme('colors.gray.700') !important;
  }

  /* ============================================================
     ðŸ”¹ TEXT INSIDE MENUS
  ============================================================ */
  .dark .mt-menu-list [class*="text-blue-gray-500"] {
    color: theme('colors.gray.400') !important;
  }

  .dark .mt-menu-list [class*="text-blue-gray-400"] {
    color: theme('colors.gray.500') !important;
  }

  .dark .mt-menu-list [class*="text-blue-gray-900"] {
    color: theme('colors.gray.100') !important;
  }

  .dark .mt-menu-list .mt-menu-item a {
    color: theme('colors.blue.400') !important;
  }

  /* ============================================================
     ðŸ”¹ UNIFY SELECT POPOVER WRAPPER (remove white frames)
  ============================================================ */
  .mt-popover-content {
    background-color: theme('colors.gray.800') !important;
    border: 1px solid theme('colors.gray.700') !important;
    border-radius: 0.75rem !important;
    padding: 0 !important;
    box-shadow:
      0 10px 15px -3px rgb(0 0 0 / 0.5),
      0 4px 6px -4px rgb(0 0 0 / 0.5) !important;
    --tw-ring-color: transparent !important;
  }

  .mt-popover-content .mt-select-menu {
    background: transparent !important;
    border: 0 !important;
    padding: 0.5rem !important;
    box-shadow: none !important;
  }

  .mt-select-option {
    border-radius: 0.5rem !important;
    background: transparent !important;
    box-shadow: none !important;
  }

  /* --- Fix Question / Markdown text colors in dark mode --- */
  .dark .dashboard-content .prose,
  .dark .prose {
    color: theme('colors.gray.300') !important;
    /* main text */
  }

  .dark .prose strong,
  .dark .prose b {
    color: theme('colors.gray.100') !important;
  }

  .dark .prose code {
    color: theme('colors.gray.200') !important;
    background-color: theme('colors.gray.800') !important;
    border-radius: 0.25rem;
    padding: 0.1rem 0.25rem;
  }

  .dark .prose a {
    color: theme('colors.blue.400') !important;
  }

  .dark .prose h1,
  .dark .prose h2,
  .dark .prose h3,
  .dark .prose h4 {
    color: theme('colors.gray.100') !important;
  }

  /* === Fix list numbers and bullets in dark mode === */
  .dark .dashboard-content .prose ol>li::marker,
  .dark .dashboard-content .prose ul>li::marker {
    color: theme('colors.gray.200') !important;
    /* makes numbers/bullets light gray */
  }

  /* Optional: ensure nested list markers are consistent */
  .dark .dashboard-content .prose ol ol>li::marker,
  .dark .dashboard-content .prose ul ul>li::marker {
    color: theme('colors.gray.300') !important;
  }

  /* === Fix Markdown list markers globally in dark mode (including modals) === */
  .dark .prose ol>li::marker,
  .dark .prose ul>li::marker {
    color: theme('colors.gray.200') !important;
    /* make list numbers/bullets light gray */
  }

  .dark .prose ol ol>li::marker,
  .dark .prose ul ul>li::marker {
    color: theme('colors.gray.300') !important;
    /* nested lists slightly dimmer */
  }

  /* Ensure paragraph text inside markdown is also light enough */
  .dark .prose p,
  .dark .prose li,
  .dark .prose strong,
  .dark .prose span {
    color: theme('colors.gray.200') !important;
  }

  /* === ApexCharts text colors in dark mode === */
  .dark .dashboard-content .apexcharts-xaxis text,
  .dark .dashboard-content .apexcharts-yaxis text,
  .dark .dashboard-content .apexcharts-datalabels text,
  .dark .dashboard-content .apexcharts-title-text,
  .dark .dashboard-content .apexcharts-subtitle-text,
  .dark .dashboard-content .apexcharts-data-labels,
  .dark .dashboard-content .apexcharts-pie-label,
  .dark .dashboard-content .apexcharts-datalabel-label,
  .dark .dashboard-content .apexcharts-datalabel-value {
    fill: theme('colors.gray.200') !important;
    color: theme('colors.gray.200') !important;
  }

  /* Tooltip readability in dark mode */
  .dark .dashboard-content .apexcharts-tooltip {
    background: theme('colors.gray.800') !important;
    border-color: theme('colors.gray.700') !important;
    color: theme('colors.gray.100') !important;
  }

  .dark .dashboard-content .apexcharts-tooltip-title {
    background: theme('colors.gray.900') !important;
    border-color: theme('colors.gray.700') !important;
    color: theme('colors.gray.200') !important;
  }

  .dark .dashboard-navbar div {
    background: transparent !important;
    box-shadow: none !important;
  }

}

/* ============================================================
   ðŸŽ¨ PREMIUM DARK SCROLLBARS â€” Global (raw CSS, outside @layer)
   ============================================================ */

::-webkit-scrollbar {
  width: 7px;
  height: 7px;
}

::-webkit-scrollbar-track {
  background: #0d0d0f;
  box-shadow: inset 1px 0 0 rgba(255, 255, 255, 0.04);
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg,
      rgba(255, 255, 255, 0.22) 0%,
      rgba(255, 255, 255, 0.10) 100%);
  border-radius: 99px;
  border: 2px solid #0d0d0f;
  background-clip: padding-box;
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.18),
    0 0 0 1px rgba(255, 255, 255, 0.04);
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg,
      rgba(59, 130, 246, 0.9) 0%,
      rgba(99, 102, 241, 0.75) 100%);
  box-shadow:
    0 0 14px rgba(59, 130, 246, 0.65),
    inset 0 1px 0 rgba(255, 255, 255, 0.28);
  border-color: rgba(0, 0, 0, 0.4);
}

* {
  scrollbar-width: thin;
  scrollbar-color: rgba(255, 255, 255, 0.2) #0d0d0f;
}